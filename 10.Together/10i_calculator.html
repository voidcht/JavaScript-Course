<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator with localStorage</title>
    <link rel="stylesheet" href="styles/10i_calculator.css">
  </head>

  <body>

    <!-- display at the top of the page -->
    <p class="js-display display"></p>


    <p>
      <button class="number-button" onclick="
        updateCalculation('1') ;
      ">1</button>

      <button class="number-button" onclick="
        updateCalculation('2');
        // calculation = calculation + '2' ;
        // console.log(calculation);
      ">2</button>

      <button class="number-button" onclick="
        updateCalculation('3');
      ">3</button>

      <button class="operator-button" onclick="
        updateCalculation(' + ');
        // calculation = calculation + ' + ';
        // console.log(calculation);
      ">+</button>
    </p>

    <p>
      <button class="number-button" onclick="
        updateCalculation('4');
      ">4</button>

      <button class="number-button" onclick="
        updateCalculation('5');
      ">5</button>

      <button class="number-button" onclick="
        updateCalculation('6');
      ">6</button>

      <button class="operator-button" onclick="
        updateCalculation(' - ');
      ">-</button>
    </p>

    <p>
      <button class="number-button" onclick="
        updateCalculation('7');
      ">7</button>

      <button class="number-button" onclick="
        updateCalculation('8');
      ">8</button>

      <button class="number-button" onclick="
        updateCalculation('9');
      ">9</button>

      <button class="operator-button" onclick="
        updateCalculation(' * ');
      ">*</button>
    </p>


    <p>
      <button class="number-button" onclick="
        updateCalculation('0');
      ">0</button>

      <button class="number-button" onclick="
        updateCalculation('.');
      ">.</button>

      <button class="number-button" onclick="
        calculation = eval(calculation);
        //console.log(calculation);
        //saving the calculation
        localStorage.setItem('calculation', calculation);

        //displaying on the page
        displayCalculation();
      ">=</button>

      <button class="operator-button" onclick="
        updateCalculation(' / ');
      ">/</button>

    </p>


    <p>
      <button class="clear-button" onclick="
        calculation = '' ;
        console.log('Cleared.');

        //removing the calculation from the memory when clearing
        //the calculation
        localStorage.removeItem('calculation');

        //display on page
        displayCalculation();
        ">Clear</button>

    </p>










    <script>
      //getting the saved calculation from previous session or setting to
      //be an empty string if calculation doesn't exist
      //using the default operator
      let calculation = localStorage.getItem('calculation') || '';

      //displaying the calculation on the page when the page loads 
      displayCalculation(calculation);


      function updateCalculation(input) {
        calculation += input;
        //console.log(calculation);

        //saving the calculation
        localStorage.setItem('calculation', calculation);

        //displaying on the page
        displayCalculation();

      }

      //since 'calculation' is a global variable, no need to pass it as a parameter
      function displayCalculation() {
        document.querySelector('.js-display').innerHTML = calculation;
      }

    </script>


  </body>

</html>